# 11. 모나드

### 모나드 이해하기

- 모나드(Monad)
- 수학의 '카테고리 이론(category theory)'이라는 분야에서 사용되는 용어
- 프로그래밍에서 모나드는 일종의 '코드 설계 패턴(design pattern)'
  - 몇 개의 인터페이스를 구현한 클래스

#### 타입 클래스란?

- 타입 클래스(type class)
- 모나드 방식 설계로 map과 of라는 이름의 메서드가 있는 Monad<T> 클래스 만들기

```typescript
const callMonad = (fn) => (b) => Monad.of(b).map(fn).value
```

- 함수를 만들 때 특별한 타입으로 제약하지 않아도 된다.
- callMonad처럼 타입에 따른 안정성을 보장하면서도 코드의 재사용성(code reusability)이 뛰어난 범용 함수를 쉽게 만들 수 있다.

#### 고차 타입이란?

- Monad<T>는 타입 T를 Monad<T> 타입으로 변환했다가 때가 되면 다시 타입 T로 변환해준다.
- 타입 T를 한 단계 더 넢은 타입으로 변환하는 용도의 타입을 '고차 타입(higher-kinded type)'이라 한다.
  - 수학의 카테고리 이론에서 아이디어를 얻었다.
- 타입스크립트는 3차 이상 고차 타입을 만들 수 없다.

#### 판타지랜드 규격

- 판타지랜드 규격: 하스켈 표준 라이브러리 구조를 자바스크립트 방식으로 재구성한 것
- 어떤 클래스가 다음 네 가지 조건을 모두 만족한다면 그 클래스는 모나드이다.
  - 펑터(Functor): map이라는 인스턴스 메서드를 가지는 클래스
  - 어플라이(Apply): 펑터이면서 ap라는 인스턴스 메서드를 가지는 클래스
  - 애플리커티브(Applicative): 어플라이이면서 of라는 클래스 메서드를 가지는 클래스
  - 체인(Chain): 애플리커티브이면서 chain이라는 메서드를 가지는 클래스

#### 모나드 룰

- 왼쪽 법칙(left identity): `M.of(a).chain(f) == f(a)`
- 오른쪽 법칙(right identity): `m.chain(M.of) == m`



### Identity 모나드 이해와 구현

### Maybe 모나드 이해와 구현

### Validation 모나드 이해와 구현

### IO 모나드 이해와 구현

