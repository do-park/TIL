# 2. 변수 다루기

### 5. var를 지양하자

- var는 함수 스코프, let과 const는 블록 스코프와 TDZ(Temporal Dead Zone)를 가진다.
  - TDZ: 선언 전 변수에 접근하는 것을 금지한다.
  - 참고: https://ui.toast.com/weekly-pick/ko_20191014
- let과 const가 안전한 이유
  - var와 달리 재할당이 되지 않는다.
- let과 const의 차이
  - let은 선언한 이후 언제든지 재할당이 가능하다.
  - const는 선언 후 할당까지 해야하며 재할당이 불가능하다.



### 6. function scope & block scope

- var는 함수 단위 스코프인데, if는 함수가 아니기 때문에 (블록 스코프) if 이후 var 값이 오염되어 있을 수 있다.
- let보다는 const를 사용하는 것이 더 좋다.
  - const의 재할당은 금지되어 있지만, 객체와 배열같은 레퍼런스 객체들을 조작할 때는 이상이 없다.



### 7. 전역 공간 사용 최소화

- 전역 공간
  -  최상위
  - window: 브라우저 환경
  - global: NodeJs 환경
  - 어디서나 접근이 가능하기 때문에 더럽히지 않아야 한다.
- 전역 공간 사용 최소화를 위한 방법
  - 전역 변수를 만들지 않는다.
  - 지역 변수만 만든다.
  - window, global을 조작하지 않는다.
  - const, let으로 바꾼다.
  - IIFE (즉시 실행 함수)
  - Module
  - Closure



### 8. 임시변수 제거하기

- 임시변수: 특정 공간 scope 안에서 전역변수처럼 활용되는 변수
- const로 사용하더라도 함수가 커지면 전역 공간이나 다름없는 상황이 나올 수 있다.
- 임시변수나 객체들을 어떻게 CRUD 할까?
  - 함수를 쪼개기
  - 바로 객체로 리턴하기
- 기존 유틸 함수에 추가적인 스펙이 필요할 때
  - 새로운 함수 추가
    - 추상화한 함수를 계속해서 추상화해서 사용
  - 기존 함수 수정
    - side effect가 있을 수 있다.

- 임시변수를 제거해야 하는 이유
  - 명령형으로 가득한 로직
  - 어디서 어떻게 잘못되었는지 디버깅이 힘들다
  - 추가적인 코드를 작성하고 싶은 유혹에 빠지기 쉽다.
    - 코드의 유지보수가 어렵다.
- 해결책
  - 함수 나누기
  - 바로 반환
  - 고차함수(map, filter, reduce...)
  - 선언형 코드



### 9. 호이스팅 주의하기

- 호이스팅
  - 런타임 시 선언이 최상단으로 끌어올려짐
  - 코드 작성할 때 예측하지 못한 실행 결과가 나올 수 있다.
- 해결책
  - var 지양한다.
  - 함수 표현식을 사용한다.