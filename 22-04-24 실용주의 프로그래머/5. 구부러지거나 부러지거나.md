# 5. 구부러지거나 부러지거나

### 28. 결합도 줄이기

> 결합도가 낮은 코드가 바꾸기 쉽다.

- 코드에서 나타나는 결합의 증상을 놓치지 않도록 주의해야 한다.
  - 관계없는 모듈이나 라이브러리 간의 희한한 의존 관계
  - 한 모듈의 '간단한' 수정이 이와 관계없는 모듈을 통해 시스템 전역으로 퍼져 나가거나 시스템의 다른 곳에서 무언가를 깨뜨리는 경우
  - 개발자가 수정하는 부분이 시스템에 어떤 영향을 미칠지 몰라 코드의 수정을 두려워하는 경우
  - 변경 사항에 누가 영향을 받는지 파악하고 있는 사람이 없어서 결국 모든 사람이 참석해야 하는 회의

#### 열차 사고

> 묻지 말고 말하라 (Tell, Don't Ask, TDA)

- 다른 객체의 내부 상태에 따라 판단을 내리고 그 객체를 갱신해서는 안 된다.

##### 데메테르 법칙

- Law of Demeter, LoD
- 데메테르라는 프로젝트를 수행하는 도중 개발자들에게 보다 깨끗하고 결합도가 낮은 함수를 작성하는 방법을 알려주기 위해 만듦
- 어떤 클래스 C에 정의된 메서드가 다음 목록에 속하는 것만 사용할 수 있다고 제한한다.
  - C의 다른 인스턴스 메서드
  - 메서드의 매개 변수
  - 스택이나 힙에 자신이 생성하는 객체의 메서드
  - 전역 변수

> 메서드 호출을 엮지 말라.

- 무언가에 접근할 때 "."을 딱 하나만 쓰려고 노력해 보라. '무언가에 접근'한다는 건 중간 변수를 사용하는 경우까지 포함해야 한다.

##### 연쇄와 파이프라인

- 파이프라인은 함수에서 함수로 데이터를 넘겨 가며 데이터를 변환한다. 이런 파이프라인은 메서드 호출로 이루어진 열차 사고와는 다르다. 숨겨진 구현 세부 사항에 의존하지 않기 때문이다.
- 그렇다고 파이프라인이 결합을 하나도 만들지 않는 것은 아니다. 파이프라인의 함수에서 반환하는 데이터는 반드시 다음 함수가 처리할 수 있는 형식이어야 한다.
- 파이프라인 형태의 결합은 열차 사고로 인한 결합에 비해 코드를 바꿀 때 문제가 생기는 경우가 ㅈ거었다.

#### 글로벌화의 해악

- 어디서나 접근할 수 있는 데이터는 교묘하게 애플리케이션 컴포넌트 간의 결합을 만들어 낸다.

> 전역 데이터를 피하라.

##### 싱글턴도 전역 데이터다

- 외부로 노출된 인스턴스 변수가 잔뜩 있는 싱글턴은 여전히 전역 데이터이다.

##### 외부 리소스도 전역 데이터다

- 리소스들을 여러분이 작성하는 코드로 감싸라.

> 전역적이어야 할 만큼 중요하다면 API로 감싸라.

#### 상속은 결합을 늘린다



### 29. 실세계를 갖고 저글링하기

- 반응적인responsive 애플리케이션을 작성하는 법

#### 이벤트

