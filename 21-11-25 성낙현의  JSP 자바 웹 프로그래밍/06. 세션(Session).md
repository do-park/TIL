# 06. 세션(Session)

### 6.1 세션이란?

- 클라이언트가 웹 브라우저를 통해 서버에 접속한 후 용무를 처리하고 웹 브라우저를 닫아 서버와의 접속을 종료하는 하나의 단위
- 클라이언트가 서버에 접속해 있는 동안 그 상태를 유지하는 것이 목적



### 6.2 세션 설정, 확인, 삭제

1. 유지 시간 설정
   - 세션은 웹 브라우저를 실행할 때마다 새롭게 생성된다.
   - 이렇게 생성된 세션은 설정된 유지 시간 동안 유지되며, 유지 시간이 만료되기 전에 새로운 요청이 들어오면 수명이 계속 연장된다.
   - 만료 때까지 클라이언트가 아무런 요청을 하지 않거나 웹 브라우저를 닫으면 삭제된다.
2. 설정값 확인
3. 세션 삭제
   - 웹 브라우저를 닫지 않고도, 웹 브라우저 설정에서 모든 쿠키를 삭제해 세션을 삭제하는 방법도 있다.



### 6.3 세션과 DB를 이용한 로그인 구현

1. 로그인 페이지 작성
2. DB 연동
   - DTO와 DAO
     - DTO(Data Transfer Object)
       - 계층 사이에서 데이터를 교환하기 위해 생성하는 객체
       - 별 다른 로직 없이 속성(멤버 변수)과 그 속성에 접근하기 위한 게터/세터 메서드만 갖춤
       - 값 객체(Value Object)
     - DAO(Data Access Object)
       - 데이터베이스의 데이터에 접근하기 위한 객체
       - 보통 JDBC를 통해 구현
       - 하나의 테이블에서 수행할 수 있는 CRUD를 전담
3. 로그아웃 처리
4. 공통 링크 추가



### 6.4 쿠키 vs. 세션

- 로그인은 쿠키보다는 세션을 이용해 구현하는 것이 좋다.
- |                | 쿠키                                                | 세션                                                         |
  | -------------- | --------------------------------------------------- | ------------------------------------------------------------ |
  | 저장 위치/형식 | 클라이언트 PC에 text로 저장                         | 웹 서버에 Object 타입으로 저장                               |
  | 보안           | 클라이언트에 저장되므로 보안에 취약                 | 서버에 저장되므로 보안에 안전                                |
  | 자원/속도      | 서버 자원을 사용하지 않으므로 세션보다 빠름         | 서버 자원을 사용하므로 쿠키보다 느림                         |
  | 용량           | 용량의 제한이 있음                                  | 서버가 허용하는 한 제한 없음                                 |
  | 유지 시간      | 쿠키 생성 시 설정. 설정된 시간이 지나면 무조건 삭제 | 서버의 web.xml에서 설정. 설정된 시간 내라도 동작이 있다면 삭제되지 않고 유지 |

  

