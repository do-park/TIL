# 31. RegExp

### 31.1 정규 표현식이란?
- 정규 표현식은 일정한 패턴을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어다.
- 문자열을 대상으로 **패턴 매칭 기능**을 제공
- 반복문과 조건문 없이 패턴을 정의하고 테스트하는 것으로 간단히 체크할 수 있다.

### 31.2 정규 표현식의 생성
- 정규 표현식 객체(RegExp 객체)를 생성하기 위해서는 정규 표현식 리터럴과 RegExp 생성자 함수를 사용할 수 있다.
- 정규 표현식 리터럴: `/regexp/i`
  - /: 시작, 종료 기호
  - regexp: 패턴
  - i: 플래그
- RegExp 생성자 함수를 사용하면 변수를 사용해 동적으로 RegExp 객체를 생성할 수 있다.
  - ```javascript
    const count = (str, char) => (str.match(new RegExp(char, 'gi')) ?? []).length;
    count('Is this all there is ?', 'is'); // 3
    count('Is this all there is ?', 'xx'); // 0
  ```
  
### 31.3 RegExp 메서드
1. RegExp.prototype.exec
2. RegExp.prototype.test
3. String.prototype.match

### 31.4 플래그
- 정규 표현식의 검색 방식을 설정하기 위해 사용
  - i (ignore case): 대소문자를 구별하지 않고 패턴을 검색한다.
  - g (global): 대상 문자열 내에서 패턴과 일치하는 모든 문자열을 전역 검색한다.
  - m (multi line): 문자열의 행이 바뀌더라도 패턴 검색을 계속한다.
- 플래그는 옵션이므로 선택적으로 사용할 수 있으며, 순서와 상관없이 하나 이상의 플래그를 동시에 설정할 수도 있다.

### 31.5 패턴
- 정규 표현식은 패턴과 플래그로 구성된다.
  - 패턴: 문자열의 일정한 규칙을 표현하기 위해 사용
  - 플래그: 정규 표현식의 검색 방식을 설정하기 위해 사용
- 패턴은 /로 열고 닫으며 문자열의 따옴표는 생략한다.
  - 따옴표를 포함하면 따옴표까지 패턴에 포함되어 검색된다.
- 특별한 의미를 가지는 메타문자 또는 기호로 표현할 수 있다.
- 어떤 문자열 내에 패턴과 일치하는 문자열이 존재할 때 '정규 표현식과 매치한다'고 표현한다.
1. 문자열 검색
   - 정규 표현식의 패턴에 문자 또는 문자열을 지정하면 검색 대상 문자열에서 패턴으로 지정한 문자 또는 문자열을 검색한다.
2. 임의의 문자열 검색
   - .은 임의의 문자 한 개를 의미한다. 문자의 내용은 무엇이든 상관없다.
3. 반복 검색
   - {m, n}은 앞선 패턴이 최소 m번, 최대 n번 반복되는 문자열을 의미한다. 콤마 뒤에 공백이 있으면 정상 동작하지 않는다.
     - `/A{1,2}/`: 'A'가 최소 1번, 최대 2번 반복되는 문자열을 전역 검색한다.
   - {n}은 앞선 패턴이 n번 반복되는 문자열을 의미한다.
   - {n,}은 앞선 패턴이 최소 n번 이상 반복되는 문자열을 의미한다.
4. OR 검색
   - |은 or의 의미를 갖는다.
     - `/A|B/`는 'A' 또는 'B'를 의미한다.
   - 분해되지 않은 단어 레벨로 검색하기 위해서는 +를 함께 사용한다.
     - `/A+|B+/g`: 'A' 또는 'B'가 한 번 이상 반복되는 문자열을 전역 검색한다.
   - [] 내의 문자는 OR로 동작한다. 그 뒤에 +를 사용하면 앞선 패턴을 한 번 이상 반복한다.
     - `/[AB]+/g`: 'A' 또는 'B'가 한 번 이상 반복되는 문자열을 전역 검색한다.
   - 범위를 지정하려면 [] 내에 -를 사용한다.
     - `/[A-Z]+/g`: 'A' - 'Z'(대문자 알파벳)가 한 번 이상 반복되는 문자열을 전역 검색한다.
     - `/[A-Za-z]/g`: 'A' - 'Z'(대문자 알파벳), 'a' - 'z'(소문자 알파벳)가 한 번 이상 반복되는 문자열을 전역 검색한다.
     - `/[0-9]+/g`, `/[\d]/`: 숫자
       - `/[\D]/`: 숫자가 아닌 문자
       - `/[\w]/`, `/[A-Za-z0-9_]/`: 알파벳, 숫자, 언더스코어
       - `/[\W]/`: 알파벳, 숫자, 언더스코어가 아닌 문자
5. NOT 검색
  - [...] 내의 ^은 not의 의미를 갖는다.
    - [^0-9]: 숫자를 제외한 문자
6. 시작 위치로 검색
  - [...] 밖의 ^은 문자열의 시작을 의미한다. 단, [...] 내의 ^은 not의 의미를 갖는다.
    - `/^https/`
7. 마지막 위치로 검색
  - $는 문자열의 마지막을 의미한다.
    - `/com$/`

### 31.6 자주 사용하는 정규표현식
1. 특정 단어로 시작하는지 검사: `/^https?:\/\//.test(url);`
2. 특정 단어로 끝나는지 검사: `/html$/.test(fileName);`
3. 숫자로만 이루어진 문자열인지 검사: `/^\d+$/.test(target);`
4. 하나 이상의 공백으로 시작하는지 검사: `/^[\s]+/.test(target);`
5. 아이디로 사용 가능한지 검사
6. 메일 주소 형식에 맞는지 검사
7. 핸드폰 번호 형식에 맞는지 검사
8. 특수 문자 포함 여부 검사