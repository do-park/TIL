# 3. 메모리와 디스크의 핵심: 순차 논리

> 조합 논리: 입력에 의해서만 출력이 결정된다.
>
> **순차 논리**: 입력의 현재 상태와 과거 상태를 함께 고려한다.



### 시간 표현과 상태 기억

#### 발진자

- 시간 측정
- **되먹임**(feedback): 인버터의 출력을 입력에 연결
- 인버터 출력이 다시 인버터 입력으로 들어가며, 이 입력은 다시 출력에 반영된다. 이로 인해 출력이 0과 1 사이를 **진동한다**.(oscillate)
- 크리스털을 활용하면 정확한 발진자를 적은 비용으로 효율적으로 만들 수 있다.

#### 클록

- 발진자는 컴퓨터에 클록(clock, 시간을 셀 수 있게 해주는 신호)을 제공한다. 클록은 회로의 페이스를 결정한다.. 회로의 최대 클록 속도나 가장 빠른 템포는 회로의 전파 지연 속도에 의해 결정된다.
- **비닝**(binning): 부품을 측정해서 그 특성에 따라 여러 다른 빈이나 무더기로 분류. 부품 전체의 편차보다는 더 작은 편차를 갖도록 부품을 빈에 나눠 담는다. 부품의 전파 지연 시간을 표시할 때도 범위를 사용한다.
- **오버클로킹**(overclocking): 통계적으로 빈의 중간 정도에 위치하는 부품을 부품이 고장 나지 않을 범위 안에서 클록을 빠르게 공급함

#### 래치

- OR 게이트의 출력을 입력에 묶는 방식의 되먹임을 사용하면 정보를 기억할 수 있다.
- **S-R 래치**: 1비트 메모리, 액티브 로우 입력을 받아 **보수**(complementary) 출력을 제공한다.

#### 게이트가 있는 래치

- gate bar가 참(로우)인 상태에서는 D의 변화가 그대로 출력에 나타난다는 문제점이 있음

#### 플립플롭

- 데이터 변경으로 인해 잘못된 결과가 생길 수 있는 가능성을 최소화하기 위해 일반적으로 사용하는 방법은 논리 수준이 특정 값에 머무는 동안 데이터를 잡아내지 않고 논리 수준이 한 수준에서 다른 수준에서 전이(**에지**, edge)되는 중간에 데이터를 잡아내는 것이다.
- **플립플롭**: 에지에 의해 데이터 변화가 촉발되는 래치(edge-triggered latch)
- **D 플립플롭**: 양의 에치(0에서 1로 바뀌는 순간)에 의해 데이터 변화가 촉발
- 에지에 의해 상태 변화가 촉발되는 장치의 상태 변화 타이밍을 볼 때는 전파 지연 외 요소도 고려해야 한다.
  - **설정 시간**(setup time): 클록 에지가 발생(즉, 클록값이 0에서 1로 전이)하기 전에 얼마나 오랫동안 입력 신호가 안정적으로 유지돼야 하는지
  - **유지 시간**(hold time): 클록 에지가 발생한 이후에 얼마나 오랫동안 입력 신호가 안정적으로 유지돼야 하는지

#### 카운터

- **리플 카운터**(ripple counter): 개수를 센 결과가 왼쪽에서 오른쪽으로 퍼져나감
  - 각 비트의 상태가 다른 비트의 상태 변화에 약간의 시차를 두고 바뀌기 때문에 이 회로를 **비동기 카운터**(asynchronous counter)라고도 부른다. 비동기 시스템은 언제 결과를 살펴봐야 맞는지 알기 어렵다는 단점이 있다.
- **동기적 카운터**(synchronous counter): 모든 플립플롭에 같은 클록을 병렬로 연결

#### 레지스터

- **레지스터**(register): 클록을 공유하는 여러 D 플립플롭을 한 패키지에 넣은 것



### 메모리 조직과 주소 지정

- **주소**(address): 각 레지스터에 번호를 부여해 많은 정보를 저장할 수 있다.
  - 디코더의 출력: 레지스터의 입력을 활성화
  - 실렉터: 지정한 주소에 해당하는 레지스터의 출력을 선택
  - **트라이스테이트**(tri-state) 출력: 시스템에서 여러 메모리 컴포넌트의 출력을 한 출력으로 연결
  - **버스**(bus): 주소와 데이터 간 연관된 신호
    - 메모리칩에는 주소 버스와 데이터 버스가 있다.
    - 비트를 이동시키는 대량 교통 수단
  - 행과 열 주소를 **멀티플렉싱**(multiplexing)하면 주소 라인의 수를 반으로 줄일 수 있다.

#### 임의 접근 메모리

- **임의 접근 메모리**(RAM, Random Access Memory): 메모리 위치 중 원하는 곳은 어디든 원하는 순서로 쓰거나 읽을 수 있다.
- **휘발성**(volatile) 메모리: 전원이 (잠시 또는 완전히) 끊어지면 데이터가 사라진다.
  - **정적 RAM**(SRAM, Static RAM): 비싸지만 빠르다. 각 비트에 6개의 트랜지스터가 들어가 크기가 크다.
  - **동적 RAM**(DRAM, Dynamic RAM): **커패시터**(capacitor)라는 아주 작은 버킷에 전자를 담고, 트랜지스터를 1개만 사용해 뚜껑을 덮는다. 주기적으로 메모리를 **갱신**(refresh)해야 한다.
    - 집적도(밀도, 단위 면적당 비트 개수)가 높아 큰 메모리 칩에 사용
- **비휘발성**(non-volatile) RAM
  - **코어**(core) 메모리: 비트를 토러스 모양 쇳조각에 저장
    - 토러스는 도는 바깥쪽 전자기 간섭에 대한 저항력이 아주 크다.
    - 3차원 메모리

#### 읽기 전용 메모리

- Read-only memory, ROM
- 한 번 쓰고 나면 여러 번 읽을 수 있다.
- **순차적**(sequential) 메모리: 데이터를 일정한 순서로만 읽을 수 있다.
- **마스크 프로그래머블**(mask-programmable) ROM: 임의 접근이 가능하다.
- **프로그래머블 읽기 전용 메모리**(PROM, Programmable ROM): 직접 프로그래밍할 수 있는 ROM이지만 단 한 번만 ROM에 프로그램을 적어 넣을 수 있었다.
- **지울 수 있는 읽기 전용 메모리**(EPROM, Erasable PROM)



### 블록 장치



### 플래시 메모리와 SSD



### 오류 감지와 정정



### 하드웨어와 소프트웨어 비교

