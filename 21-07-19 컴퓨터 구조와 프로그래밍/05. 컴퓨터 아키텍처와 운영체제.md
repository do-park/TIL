# 5. 컴퓨터 아키텍처와 운영체제

> **컴퓨터 아키텍처**(computer architecture): 컴퓨터의 여러 구성요소를 배치하는 방법



### 기본적인 구조 요소들

- 컴퓨터 구조: 두 구조의 차이는 메모리 배열
  - **폰 노이만**(von Neumann) 구조: 하나의 메모리가 존재
  - **하버드**(Harvard) 구조: 두 개의 메모리(명령어 메모리, 데이터 메모리)가 존재
  - 나머지가 모두 같다면 메모리에서 동시에 명령어와 데이터를 가져올 수 없기 때문에 폰 노이만 구조가 약간 더 느리다.



#### 프로세서 코어

- **멀티프로세서**(multiprocessor) 시스템은 단일 CPU보다 훨씬 더 성능을 얻어내기 위한 방법이지만, 여러 CPU를 활용할 수 있도록 프로그램을 **병렬화**(parallelized)하는 문제는 일반적인 경우에는 풀 수 없는 문제
- 예전의 CPU라고 부르던 것을 요즘은 **프로세서 코어**(processor core)라고 부른다. 이런 코어가 여럿 들어가는 **멀티코어**(multicore) 프로세서가 이제는 일반적으로 쓰인다.



#### 마이크로프로세서와 마이크로컴퓨터

- 물리적 패키징에 따른 구조 구분
  - **마이크로프로세서**(microporcessor): 메모리와 I/O 프로세서 코어와 같은 패키지에 들어 있지 않은 프로세서, 큰 시스템에 들어가는 부품
  - **마이크로컴퓨터**(microcomputer): 모든 요소를 한 칩 안에 패키징, **마이크로컨트롤러**(microcontroller), 식기세척기 등에서 찾을 수 있는 단일 칩으로 된 작은 컴퓨터
  - 칩 안에서 메모리가 차지하는 영역이 크기 때문에 일반적으로 마이크로프로세서보다 마이크로컴퓨터가 덜 강력하다.
  - **단일 칩 시스템**(SoC, System on a Chip): 더 복잡한 마이크로 컴퓨터, WiFi 회로 등 더 복잡한 장치가 들어 있다.



### 프로시저, 서브루틴, 함수

- **함수**(function), **프로시저**(procedure), **서브루틴**(subroutine): 코드를 재사용하는 주요 수단
- 함수를 호출하는 부분에서 함수를 실행하고 다시 원래 자리로 돌아와야 한다. 이를 위해서는 어디서 함수로 들어갔는지를 기억해야 한다. 이 (함수로 들어간) 위치는 바로 프로그램 카운터의 값이다.



### 스택

- 재귀 함수가 제대로 동작하려면 반환 주소를 여럿 저장할 수 있어야 한다. 그리고 함수에서 호출 지점으로 반환할 때 저장된 주소 중 어떤 주소를 사용할지 결정할 수 있어야 한다.
- **깊이 우선 순회**(depth-first traversal): 트리 아래로 내려갈 수 있으면 항상 아래로 내려가고, 더 이상 아래로 내려갈 화살표가 없는 경우에만 옆에 있는 화살표로 넘어간다.
- **너비 우선 순회**(Breadth-first traversal): 옆에 있는 화살표를 먼저 방문하고 그 후 아래쪽으로 가는 화살표를 방문
- 트리에서 한 수준을 내려갈 때마다 돌아올 위치를 기억해야 한다. 일단 원래 위치로 돌아오고 나면 저장했던 위치는 더 이상 필요하지 않다.
- **스택**(stack), **LIFO** 구조(last in first out)
  - 물건을 **푸시**(push)해 넣고, 스택에서 물건을 **팝**(pop)해서 제거한다.
  - 스택에 물건을 푸시하는데 더 이상 들어갈 공간이 없으면 **스택 오버플로**(stack overflow)
  - 빈 스택에서 물건을 가져오려고 하면 **스택 언더플로**(stack underflow)
- **한계 레지스터**(limit register): 소프트웨어로 스택 오버플로를 항상 검사하지 않아도 되도록 돕는다.
- **스택 프레임**(stack frame): 함수가 호출될 때마다 스택에 저장되는 데이터의 모음



### 인터럽트



### 상대 주소 지정



### 메모리 관리 장치



### 가상 메모리



### 시스템 공간과 사용자 공간



### 메모리 계층과 성능



### 코프로세서



### 메모리상의 데이터 배치



### 프로그램 실행



### 메모리 전력 소비



