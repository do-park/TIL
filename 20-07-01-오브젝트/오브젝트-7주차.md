# 8. 의존성 관리하기

> 객체지향 설계의 핵심은 협력을 위해 필요한 의존성은 유지하면서도 변경을 방해하는 의존성은 제거하는 데 있다. 이런 관점에서 객체지향 설계란 의존성을 관리하는 것이고 객체가 변화를 받아들일 수 있게 의존성을 정리하는 기술이라고 할 수 있다.

- 어떤 객체가 협력하기 위해 다른 객체를 필요로 할 때 두 객체 사이에 의존성이 존재하게 된다. 의존성은 실행 시점과 구현 시점에 서로 다른 의미를 가진다.
  - 실행 시점: 의존하는 객체가 정상적으로 동작하기 위해서는 실행 시에 의존 대상 객체가 반드시 존재해야 한다.
  - 구현 시점: 의존 대상 객체가 변경될 경우 의존하는 객체도 함께 변경된다.
- **의존성 전이(transitive dependency)** 
  - 직접 의존성(direct dependency): 한 요소가 다른 요소에 직접 의존하는 경우
  - 간접 의존성(indirect dependency): 직접적인 관계는 존재하지 않지만 의존성 전이에 의해 영향이 전파되는 경우
  - 런타임 의존성(run-time dependency): 애플리케이션이 실행되는 시점
  - 컴파일타임 의존성(compile-time dependency): 컴파일하는 시점 또는 코드 그 자체(코드를 작성하는 시점)
    - 컴파일타임 의존성은 구체적인 런타임 의존성으로 대체되어야 한다.
  - **컨텍스트 독립성**: 클래스가 사용될 특정한 문맥에 대해 최소한의 가정만으로 이뤄져 있다면 다른 문맥에서 재사용하기가 더 수월해진다.
  - **의존성 해결**: 컴파일타임 의존성을 실행 컨텍스트에 맞는 적절한 런타임 의존성으로 교체하는 것
    - 객체를 생성하는 시점에 생성자를 통해 의존성 해결
    - 객체 생성 후 setter 매서드를 통해 의존성 해결
    - 메서드 실행 시 인자를 이용해 의존성 해결